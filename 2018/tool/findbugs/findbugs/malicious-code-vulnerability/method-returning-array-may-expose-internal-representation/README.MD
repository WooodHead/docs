# May expose internal representation by returning reference to mutable object
SVN:   

	CodeFarmerClub/baseplatform/workflow/trunk/wfpt4
	
判例:

	com.yixin.demo.core.ActExDemoTodoTaskEntity.java:105
	

代码：
     
	public Date getReceiveTime() {
		return receiveTime;
	}
      
描述：

    Returning a reference to a mutable object value stored in one of the object's fields exposes the
	internal representation of the object.? If instances are accessed by untrusted code, and 
	unchecked changes to the mutable object would compromise security or other important properties,
	you will need to do something different. Returning a new copy of the object is better approach 
	in many situations.
	
建议：

	简单处理
	public Date getReceiveTime() {
		return new Date(receiveTime.getTime());
	}
	或者
	There are several solutions that come to my mind:
	You just simply stop using Date-s in favor of Long-s to store timestamps because long values are
	known to be immutable.
	You promise never to use mutator methods on Date and then you can switch off the FindBugs rules 
	EI_EXPOSE_REP and EI_EXPOSE_REP2.
	

参考：

[reference to mutable object](https://jqassistant.org/findbugs/)
      
 

